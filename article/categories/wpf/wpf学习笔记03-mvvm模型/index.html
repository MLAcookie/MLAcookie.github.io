<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='<0x00> MVVM模型介绍\rMVVM模型并不是一个编程的语法，而是一种设计思路 整体分三块(M/V/VM) M(Model)指数据模型，差不多就是程序的后端部分 V(View)指界面，就是程序前端 VM(View Model)，这个不大好翻译，其实就是负责前后端连接 这样做有什么好处 简单说就是低耦合高内聚(网上都这么说的) 换句话说就是修改时更加的灵活，架构更加明白 MVVM模型是从MVC模型发展过来的，主要解决的就是开发过程中代码结构混乱的问题 比方说开发一个项目，分前端后端，如果不采用这些设计思路，很可能两人各搞各的 要连接前后端，既可以是前端控制后端数据，也可以是后端修改前端显示 这样势必会造成整个项目的混乱，不好管理 所以MVVM模型引入了VM作为前后端的中间层 前端的V可以通过VM修改M，后端的M也可以通过VM通知前端的V要界面更新 这样的话，前后端本身就差不多分离了，前后端开发互不干扰 反正最后都是靠写一个VM连接在一起的，当然相应的代码量就多了 总之，MVVM模型不是开发必须的，如果就一个人随便写写，那么肯定是怎么舒服怎么来的 如果是稍微大一点的项目，不采用合适的开发模式，到时候管理代码有的受的 <0x01> 如何在WPF中实现MVVM\rWPF里面不是有些.xaml的文件嘛，这些就是我们的V 然后在整个工程中，我们还可以新建很多的.cs文件(这个看你用什么.net的语言) 这些.cs文件就是我们的M和VM 当然，为了区分方便，通常会在文件后面跟上后缀 比如*M.cs代表这个文件描述的是一个数据模型 *VM.cs代表这个文件描述的是一个VM 反正怎么习惯怎么来就是 在这篇博客里，我的文件命名没有这么这么规范 因为就像之前说的，MVVM只是一种设计思路 <0x02> 正式开始实现\r首先先分析我们的需求，就拿我们之前的计算器吧 前端的实现我们已经有了，就是那个.xaml文件 后端我们就要先分析下了，怎么搞一个计算器的后端 首先我们先思考下一个计算器需要维护什么数据 因为我们打算实现的就是个日常的计算器而不是图形计算器之类的东西 所以肯定要维护一条当前的结果 然后还要一个标志符来保存当前选定的运算 同时还要有个flag来表明正在计算 最后还要维护一个显示的值 所以总共是要维护4条数据 所以对我们的计算器后端文件如下 //Calculator.cs //常见的引用 namespace WPFTest { public class Calculator { //这里按道理应该用private，通过对象方法调用这些变量，这里偷下懒 internal bool flag = false; //表示正在计算 internal int? calculate = null; //标识当前的运算符 internal double? ans = null; //存储当前的结果 internal string Display = "0"; //当前显示的值 public void Calculate() //计算方法 { switch (calculate) { case 1: ans += Double.'><title>WPF学习笔记03-MVVM模型</title>
<link rel=canonical href=https://mlacookie.github.io/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003-mvvm%E6%A8%A1%E5%9E%8B/><link rel=stylesheet href=/scss/style.min.e8c7fca7d1c9294aa7a4f3426c225ee26540f7d94e39be0b5a4a5c8a49ca5a25.css><meta property='og:title' content="WPF学习笔记03-MVVM模型"><meta property='og:description' content='<0x00> MVVM模型介绍\rMVVM模型并不是一个编程的语法，而是一种设计思路 整体分三块(M/V/VM) M(Model)指数据模型，差不多就是程序的后端部分 V(View)指界面，就是程序前端 VM(View Model)，这个不大好翻译，其实就是负责前后端连接 这样做有什么好处 简单说就是低耦合高内聚(网上都这么说的) 换句话说就是修改时更加的灵活，架构更加明白 MVVM模型是从MVC模型发展过来的，主要解决的就是开发过程中代码结构混乱的问题 比方说开发一个项目，分前端后端，如果不采用这些设计思路，很可能两人各搞各的 要连接前后端，既可以是前端控制后端数据，也可以是后端修改前端显示 这样势必会造成整个项目的混乱，不好管理 所以MVVM模型引入了VM作为前后端的中间层 前端的V可以通过VM修改M，后端的M也可以通过VM通知前端的V要界面更新 这样的话，前后端本身就差不多分离了，前后端开发互不干扰 反正最后都是靠写一个VM连接在一起的，当然相应的代码量就多了 总之，MVVM模型不是开发必须的，如果就一个人随便写写，那么肯定是怎么舒服怎么来的 如果是稍微大一点的项目，不采用合适的开发模式，到时候管理代码有的受的 <0x01> 如何在WPF中实现MVVM\rWPF里面不是有些.xaml的文件嘛，这些就是我们的V 然后在整个工程中，我们还可以新建很多的.cs文件(这个看你用什么.net的语言) 这些.cs文件就是我们的M和VM 当然，为了区分方便，通常会在文件后面跟上后缀 比如*M.cs代表这个文件描述的是一个数据模型 *VM.cs代表这个文件描述的是一个VM 反正怎么习惯怎么来就是 在这篇博客里，我的文件命名没有这么这么规范 因为就像之前说的，MVVM只是一种设计思路 <0x02> 正式开始实现\r首先先分析我们的需求，就拿我们之前的计算器吧 前端的实现我们已经有了，就是那个.xaml文件 后端我们就要先分析下了，怎么搞一个计算器的后端 首先我们先思考下一个计算器需要维护什么数据 因为我们打算实现的就是个日常的计算器而不是图形计算器之类的东西 所以肯定要维护一条当前的结果 然后还要一个标志符来保存当前选定的运算 同时还要有个flag来表明正在计算 最后还要维护一个显示的值 所以总共是要维护4条数据 所以对我们的计算器后端文件如下 //Calculator.cs //常见的引用 namespace WPFTest { public class Calculator { //这里按道理应该用private，通过对象方法调用这些变量，这里偷下懒 internal bool flag = false; //表示正在计算 internal int? calculate = null; //标识当前的运算符 internal double? ans = null; //存储当前的结果 internal string Display = "0"; //当前显示的值 public void Calculate() //计算方法 { switch (calculate) { case 1: ans += Double.'><meta property='og:url' content='https://mlacookie.github.io/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003-mvvm%E6%A8%A1%E5%9E%8B/'><meta property='og:site_name' content='MLAcookie'><meta property='og:type' content='article'><meta property='article:section' content='Article'><meta property='article:tag' content='CSharp'><meta property='article:published_time' content='2023-07-22T17:39:25+00:00'><meta property='article:modified_time' content='2023-07-22T17:39:25+00:00'><meta name=twitter:title content="WPF学习笔记03-MVVM模型"><meta name=twitter:description content='<0x00> MVVM模型介绍\rMVVM模型并不是一个编程的语法，而是一种设计思路 整体分三块(M/V/VM) M(Model)指数据模型，差不多就是程序的后端部分 V(View)指界面，就是程序前端 VM(View Model)，这个不大好翻译，其实就是负责前后端连接 这样做有什么好处 简单说就是低耦合高内聚(网上都这么说的) 换句话说就是修改时更加的灵活，架构更加明白 MVVM模型是从MVC模型发展过来的，主要解决的就是开发过程中代码结构混乱的问题 比方说开发一个项目，分前端后端，如果不采用这些设计思路，很可能两人各搞各的 要连接前后端，既可以是前端控制后端数据，也可以是后端修改前端显示 这样势必会造成整个项目的混乱，不好管理 所以MVVM模型引入了VM作为前后端的中间层 前端的V可以通过VM修改M，后端的M也可以通过VM通知前端的V要界面更新 这样的话，前后端本身就差不多分离了，前后端开发互不干扰 反正最后都是靠写一个VM连接在一起的，当然相应的代码量就多了 总之，MVVM模型不是开发必须的，如果就一个人随便写写，那么肯定是怎么舒服怎么来的 如果是稍微大一点的项目，不采用合适的开发模式，到时候管理代码有的受的 <0x01> 如何在WPF中实现MVVM\rWPF里面不是有些.xaml的文件嘛，这些就是我们的V 然后在整个工程中，我们还可以新建很多的.cs文件(这个看你用什么.net的语言) 这些.cs文件就是我们的M和VM 当然，为了区分方便，通常会在文件后面跟上后缀 比如*M.cs代表这个文件描述的是一个数据模型 *VM.cs代表这个文件描述的是一个VM 反正怎么习惯怎么来就是 在这篇博客里，我的文件命名没有这么这么规范 因为就像之前说的，MVVM只是一种设计思路 <0x02> 正式开始实现\r首先先分析我们的需求，就拿我们之前的计算器吧 前端的实现我们已经有了，就是那个.xaml文件 后端我们就要先分析下了，怎么搞一个计算器的后端 首先我们先思考下一个计算器需要维护什么数据 因为我们打算实现的就是个日常的计算器而不是图形计算器之类的东西 所以肯定要维护一条当前的结果 然后还要一个标志符来保存当前选定的运算 同时还要有个flag来表明正在计算 最后还要维护一个显示的值 所以总共是要维护4条数据 所以对我们的计算器后端文件如下 //Calculator.cs //常见的引用 namespace WPFTest { public class Calculator { //这里按道理应该用private，通过对象方法调用这些变量，这里偷下懒 internal bool flag = false; //表示正在计算 internal int? calculate = null; //标识当前的运算符 internal double? ans = null; //存储当前的结果 internal string Display = "0"; //当前显示的值 public void Calculate() //计算方法 { switch (calculate) { case 1: ans += Double.'><link rel="shortcut icon" href=/favicon.webp></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu01ec501d434397934aa5721ebabee736_552660_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>😜</span></figure><div class=site-meta><h1 class=site-name><a href=/>MLAcookie</a></h1><h2 class=site-description>随便记点东西的记事本</h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/13629146 target=_blank title=MLA_cookie@bilibili rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=https://github.com/MLAcookie target=_blank title=MLAcookie@Github rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/page/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#0x00-mvvm模型介绍>&lt;0x00> MVVM模型介绍</a></li><li><a href=#0x01-如何在wpf中实现mvvm>&lt;0x01> 如何在WPF中实现MVVM</a></li><li><a href=#0x02-正式开始实现>&lt;0x02> 正式开始实现</a></li><li><a href=#0x03-mvvm模型到底有什么用>&lt;0x03> MVVM模型到底有什么用</a></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/wpf/>WPF</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003-mvvm%E6%A8%A1%E5%9E%8B/>WPF学习笔记03-MVVM模型</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jul 22, 2023</time></div></footer></div></header><section class=article-content><h2 id=0x00-mvvm模型介绍>&lt;0x00> MVVM模型介绍</h2><p><code>MVVM模型</code>并不是一个编程的语法，而是一种设计思路<br>整体分三块(<code>M/V/VM</code>)<br><code>M</code>(Model)指数据模型，差不多就是程序的后端部分<br><code>V</code>(View)指界面，就是程序前端<br><code>VM</code>(View Model)，这个不大好翻译，其实就是负责前后端连接</p><p>这样做有什么好处<br>简单说就是低耦合高内聚(网上都这么说的)<br>换句话说就是修改时更加的灵活，架构更加明白</p><p><code>MVVM模型</code>是从<code>MVC模型</code>发展过来的，主要解决的就是开发过程中代码结构混乱的问题<br>比方说开发一个项目，分前端后端，如果不采用这些设计思路，很可能两人各搞各的<br>要连接前后端，既可以是前端控制后端数据，也可以是后端修改前端显示<br>这样势必会造成整个项目的混乱，不好管理<br>所以<code>MVVM模型</code>引入了<code>VM</code>作为前后端的中间层<br>前端的<code>V</code>可以通过<code>VM</code>修改<code>M</code>，后端的<code>M</code>也可以通过<code>VM</code>通知前端的<code>V</code>要界面更新<br>这样的话，前后端本身就差不多分离了，前后端开发互不干扰<br>反正最后都是靠写一个<code>VM</code>连接在一起的，当然相应的代码量就多了</p><p><img src=/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003-mvvm%E6%A8%A1%E5%9E%8B/picture/1.png width=1270 height=681 srcset="/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003-mvvm%E6%A8%A1%E5%9E%8B/picture/1_hub1a178ce32178ed8ec53fb95ee44448b_98603_480x0_resize_box_3.png 480w, /article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003-mvvm%E6%A8%A1%E5%9E%8B/picture/1_hub1a178ce32178ed8ec53fb95ee44448b_98603_1024x0_resize_box_3.png 1024w" loading=lazy alt=大致架构图 class=gallery-image data-flex-grow=186 data-flex-basis=447px></p><p>总之，<code>MVVM模型</code>不是开发必须的，如果就一个人随便写写，那么肯定是怎么舒服怎么来的<br>如果是稍微大一点的项目，不采用合适的开发模式，到时候管理代码有的受的</p><h2 id=0x01-如何在wpf中实现mvvm>&lt;0x01> 如何在WPF中实现MVVM</h2><p>WPF里面不是有些<code>.xaml</code>的文件嘛，这些就是我们的<code>V</code><br>然后在整个工程中，我们还可以新建很多的<code>.cs</code>文件(这个看你用什么<code>.net</code>的语言)<br>这些<code>.cs</code>文件就是我们的<code>M</code>和<code>VM</code></p><p>当然，为了区分方便，通常会在文件后面跟上后缀<br>比如<code>*M.cs</code>代表这个文件描述的是一个数据模型<br><code>*VM.cs</code>代表这个文件描述的是一个<code>VM</code><br>反正怎么习惯怎么来就是</p><p>在这篇博客里，我的文件命名没有这么这么规范<br>因为就像之前说的，<code>MVVM</code>只是一种设计思路</p><h2 id=0x02-正式开始实现>&lt;0x02> 正式开始实现</h2><p>首先先分析我们的需求，就拿我们之前的计算器吧<br>前端的实现我们已经有了，就是那个<code>.xaml</code>文件</p><p>后端我们就要先分析下了，怎么搞一个计算器的后端<br>首先我们先思考下一个计算器需要维护什么数据<br>因为我们打算实现的就是个日常的计算器而不是图形计算器之类的东西<br>所以肯定要维护一条当前的结果<br>然后还要一个标志符来保存当前选定的运算<br>同时还要有个<code>flag</code>来表明正在计算<br>最后还要维护一个显示的值<br>所以总共是要维护4条数据</p><p>所以对我们的计算器后端文件如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#75715e>//Calculator.cs</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//常见的引用</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> WPFTest
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Calculator</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>//这里按道理应该用private，通过对象方法调用这些变量，这里偷下懒</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>internal</span> <span style=color:#66d9ef>bool</span> flag = <span style=color:#66d9ef>false</span>; <span style=color:#75715e>//表示正在计算</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>internal</span> <span style=color:#66d9ef>int?</span> calculate = <span style=color:#66d9ef>null</span>; <span style=color:#75715e>//标识当前的运算符</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>internal</span> <span style=color:#66d9ef>double?</span> ans = <span style=color:#66d9ef>null</span>;    <span style=color:#75715e>//存储当前的结果</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>internal</span> <span style=color:#66d9ef>string</span> Display = <span style=color:#e6db74>&#34;0&#34;</span>;  <span style=color:#75715e>//当前显示的值</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Calculate() <span style=color:#75715e>//计算方法</span>
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>switch</span> (calculate)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>                    ans += Double.Parse(Display);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>2</span>:
</span></span><span style=display:flex><span>                    ans -= Double.Parse(Display);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>3</span>:
</span></span><span style=display:flex><span>                    ans *= Double.Parse(Display);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>4</span>:
</span></span><span style=display:flex><span>                    ans /= Double.Parse(Display);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>接下来就是来写我们的<code>VM</code>部分<br>我这个写得比较繁琐，但就是那个意思</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#75715e>//ViewModel.cs</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//常见的引用</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> WPFTest
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>//要实现接口INotifyPropertyChanged</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ViewModel</span> : INotifyPropertyChanged
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>//实现接口的要求，看不懂没关系，这么写就好</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>event</span> PropertyChangedEventHandler PropertyChanged;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> NotifyPropertyChanged(<span style=color:#66d9ef>string</span> propertyName)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            PropertyChangedEventHandler handler = PropertyChanged;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(handler != <span style=color:#66d9ef>null</span>) handler(<span style=color:#66d9ef>this</span>, <span style=color:#66d9ef>new</span> PropertyChangedEventArgs(propertyName));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>//声明一个Calculator对象</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> Calculator _calculator = <span style=color:#66d9ef>new</span> Calculator();
</span></span><span style=display:flex><span>        <span style=color:#75715e>//声明一个Display属性，关键啊</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>string</span> Display
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>get</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> _calculator.Display; <span style=color:#75715e>//定义get，挺正常的写法</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>set</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                _calculator.Display = <span style=color:#66d9ef>value</span>;
</span></span><span style=display:flex><span>                NotifyPropertyChanged(<span style=color:#e6db74>&#34;Display&#34;</span>);
</span></span><span style=display:flex><span>                <span style=color:#75715e>//定义set，最后调用的方法通知属性已更改，让前端更新显示</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> MinusSign_Click()   <span style=color:#75715e>//减法的实现</span>
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (_calculator.flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (Display[<span style=color:#ae81ff>0</span>] == <span style=color:#e6db74>&#39;-&#39;</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Display = Display.Substring(<span style=color:#ae81ff>1</span>, Display.Length - <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Display = <span style=color:#e6db74>&#34;-&#34;</span> + Display;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>//后面方法的实现略</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> ICommand ButtonMinusSign <span style=color:#75715e>//将减法方法声明成属性</span>
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>get</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> RelayCommand(MinusSign_Click);
</span></span><span style=display:flex><span>                <span style=color:#75715e>//RelayCommand后面讲</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>//后面的方法属性声明略</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><code>Display</code>要声明成属性的样式，因为<code>xaml</code>里面能绑定的量要是属性<br>所以后面的按钮方法都要声明成属性，这样才能在<code>xaml</code>里面绑定</p><p>当然这里还出现了两个新东西<br>一个是接口<code>INotifyPropertyChanged</code>，还有<code>RelayCommand</code><br><code>INotifyPropertyChanged</code>字面意思就是<code>通知属性更改</code><br>就是说这个类里面有属性在更改时需要通知前端，让前端显示的东西也跟着改<br>这个接口要求实现一个通知方法，反正就按上面的抄就好了<br>(大体的原理就是发起一个事件，传回去，让前端知道有东西变了，再回来看)<br><code>RelayCommand</code>是自己实现的类，代码如下</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#75715e>//RelayCommand.cs</span>
</span></span><span style=display:flex><span><span style=color:#75715e>//常见的声明</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> WPFTest
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>//实现ICommand接口</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>internal</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RelayCommand</span> : ICommand
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>//一个只读的Action属性，存储指令</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> Action ExecuteAction { <span style=color:#66d9ef>get</span>; }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>event</span> EventHandler CanExecuteChanged;
</span></span><span style=display:flex><span>        <span style=color:#75715e>//构造函数</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> RelayCommand(Action executeAction)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            ExecuteAction = executeAction;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>//表示能不能执行(我们这就默认能执行)</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>bool</span> CanExecute(<span style=color:#66d9ef>object</span> parameter)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#75715e>//调用方法</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> Execute(<span style=color:#66d9ef>object</span> parameter)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            ExecuteAction();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>就是这样，本质就是用泛型委托打包了个方法<br>这个类也方便我们把方法打包成一个属性，好绑定到<code>xaml</code>中</p><p>最后终于是我们的前端界面了<br>其实多的不用改</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;Window</span> <span style=color:#a6e22e>x:Class=</span><span style=color:#e6db74>&#34;WPFTest.MainWindow&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:x=</span><span style=color:#e6db74>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:d=</span><span style=color:#e6db74>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:mc=</span><span style=color:#e6db74>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:local=</span><span style=color:#e6db74>&#34;clr-namespace:WPFTest&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>d:DataContext=</span><span style=color:#e6db74>&#34;{d:DesignInstance Type=local:ViewModel}&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mc:Ignorable=</span><span style=color:#e6db74>&#34;d&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Height=</span><span style=color:#e6db74>&#34;400&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Width=</span><span style=color:#e6db74>&#34;300&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WindowStartupLocation=</span><span style=color:#e6db74>&#34;CenterScreen&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>AllowsTransparency=</span><span style=color:#e6db74>&#34;True&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Background=</span><span style=color:#e6db74>&#34;Transparent&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>WindowStyle=</span><span style=color:#e6db74>&#34;None&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--这里指定了DataContext，让xaml能找到对应的属性--&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Window.Resources&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Style</span> <span style=color:#a6e22e>TargetType=</span><span style=color:#e6db74>&#34;Button&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;Margin&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;6&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;FontSize&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;24&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;Foreground&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;White&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;Template&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;Setter.Value&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;ControlTemplate</span> <span style=color:#a6e22e>TargetType=</span><span style=color:#e6db74>&#34;Button&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;Border</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;border&#34;</span>
</span></span><span style=display:flex><span>                                <span style=color:#a6e22e>Background=</span><span style=color:#e6db74>&#34;#241238&#34;</span>
</span></span><span style=display:flex><span>                                <span style=color:#a6e22e>CornerRadius=</span><span style=color:#e6db74>&#34;10&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&lt;TextBlock</span> <span style=color:#a6e22e>Text=</span><span style=color:#e6db74>&#34;{TemplateBinding Content}&#34;</span>
</span></span><span style=display:flex><span>                                       <span style=color:#a6e22e>VerticalAlignment=</span><span style=color:#e6db74>&#34;Center&#34;</span>
</span></span><span style=display:flex><span>                                       <span style=color:#a6e22e>HorizontalAlignment=</span><span style=color:#e6db74>&#34;Center&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;/Border&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;ControlTemplate.Triggers&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&lt;Trigger</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;IsMouseOver&#34;</span>
</span></span><span style=display:flex><span>                                     <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;True&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>TargetName=</span><span style=color:#e6db74>&#34;border&#34;</span>
</span></span><span style=display:flex><span>                                        <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;Background&#34;</span>
</span></span><span style=display:flex><span>                                        <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;#190D24&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&lt;/Trigger&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&lt;Trigger</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;IsPressed&#34;</span>
</span></span><span style=display:flex><span>                                     <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;True&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>TargetName=</span><span style=color:#e6db74>&#34;border&#34;</span>
</span></span><span style=display:flex><span>                                        <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;Background&#34;</span>
</span></span><span style=display:flex><span>                                        <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;Black&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&lt;/Trigger&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;/ControlTemplate.Triggers&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;/ControlTemplate&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;/Setter.Value&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/Setter&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Style&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/Window.Resources&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Border</span> <span style=color:#a6e22e>CornerRadius=</span><span style=color:#e6db74>&#34;10&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>MouseMove=</span><span style=color:#e6db74>&#34;Border_MouseMove&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Margin=</span><span style=color:#e6db74>&#34;10&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Border.Background&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;LinearGradientBrush</span> <span style=color:#a6e22e>StartPoint=</span><span style=color:#e6db74>&#34;0,0&#34;</span>
</span></span><span style=display:flex><span>                                 <span style=color:#a6e22e>EndPoint=</span><span style=color:#e6db74>&#34;0,1&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;GradientStop</span> <span style=color:#a6e22e>Color=</span><span style=color:#e6db74>&#34;#392669&#34;</span>
</span></span><span style=display:flex><span>                              <span style=color:#a6e22e>Offset=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;GradientStop</span> <span style=color:#a6e22e>Color=</span><span style=color:#e6db74>&#34;#46204F&#34;</span>
</span></span><span style=display:flex><span>                              <span style=color:#a6e22e>Offset=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/LinearGradientBrush&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Border.Background&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Border.Effect&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;DropShadowEffect</span> <span style=color:#a6e22e>Color=</span><span style=color:#e6db74>&#34;Gray&#34;</span>
</span></span><span style=display:flex><span>                              <span style=color:#a6e22e>ShadowDepth=</span><span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>                              <span style=color:#a6e22e>BlurRadius=</span><span style=color:#e6db74>&#34;10&#34;</span>
</span></span><span style=display:flex><span>                              <span style=color:#a6e22e>Opacity=</span><span style=color:#e6db74>&#34;.5&#34;</span>
</span></span><span style=display:flex><span>                              <span style=color:#a6e22e>Direction=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Border.Effect&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Grid&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition</span> <span style=color:#a6e22e>Height=</span><span style=color:#e6db74>&#34;auto&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition</span> <span style=color:#a6e22e>Height=</span><span style=color:#e6db74>&#34;auto&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;StackPanel</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Orientation=</span><span style=color:#e6db74>&#34;Horizontal&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>HorizontalAlignment=</span><span style=color:#e6db74>&#34;Right&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Minimize&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Minimize_Click&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;Button.Template&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;ControlTemplate&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&lt;Ellipse</span> <span style=color:#a6e22e>Width=</span><span style=color:#e6db74>&#34;16&#34;</span>
</span></span><span style=display:flex><span>                                     <span style=color:#a6e22e>Height=</span><span style=color:#e6db74>&#34;16&#34;</span>
</span></span><span style=display:flex><span>                                     <span style=color:#a6e22e>Fill=</span><span style=color:#e6db74>&#34;#F0DC4E&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;/ControlTemplate&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;/Button.Template&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;/Button&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Close&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Close_Click&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;Button.Template&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;ControlTemplate&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#f92672>&lt;Ellipse</span> <span style=color:#a6e22e>Width=</span><span style=color:#e6db74>&#34;16&#34;</span>
</span></span><span style=display:flex><span>                                     <span style=color:#a6e22e>Height=</span><span style=color:#e6db74>&#34;16&#34;</span>
</span></span><span style=display:flex><span>                                     <span style=color:#a6e22e>Fill=</span><span style=color:#e6db74>&#34;#F0443E&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#f92672>&lt;/ControlTemplate&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;/Button.Template&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;/Button&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/StackPanel&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;TextBlock</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;1&#34;</span>
</span></span><span style=display:flex><span>                       <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Answer&#34;</span>
</span></span><span style=display:flex><span>                       <span style=color:#a6e22e>Text=</span><span style=color:#e6db74>&#34;{Binding Display}&#34;</span>
</span></span><span style=display:flex><span>                       <span style=color:#a6e22e>FontSize=</span><span style=color:#e6db74>&#34;28&#34;</span>
</span></span><span style=display:flex><span>                       <span style=color:#a6e22e>HorizontalAlignment=</span><span style=color:#e6db74>&#34;Right&#34;</span>
</span></span><span style=display:flex><span>                       <span style=color:#a6e22e>Margin=</span><span style=color:#e6db74>&#34;20&#34;</span>
</span></span><span style=display:flex><span>                       <span style=color:#a6e22e>Foreground=</span><span style=color:#e6db74>&#34;White&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#75715e>&lt;!--Text这里绑定的是显示的内容--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Grid</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_MinusSign&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Command=</span><span style=color:#e6db74>&#34;{Binding ButtonMinusSign}&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;±&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;0&#34;</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--Command这里绑定的就是按钮的指令--&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e>&lt;!--后面的Button就不写了--&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/Grid&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Grid&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/Border&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/Window&gt;</span>
</span></span></code></pre></div><p>其实就打注释的那三处要变，别的都不用改</p><h2 id=0x03-mvvm模型到底有什么用>&lt;0x03> MVVM模型到底有什么用</h2><p>说实在的，我刚学完这模型我也是说这玩意有啥用<br>甚至觉得我是不是少看了些什么<br>因为从逻辑上，这么写代码，代码量多了，但功能都没变过<br>就感觉这么写很多余</p><p>但实际上，我思考了好一阵(也是这篇博客拖这么久写完的原因)<br>这个项目太小了，体现不出来<br>想象一个稍微大点的项目，前后端分别开发的<br>假设最终就两个主要的文件，一个前端，一个后端<br>如果说后端突然抽风要改方法名，那前端也得跟着改(这就是耦合的情况)<br>但如果用<code>MVVM</code>模型，在前后端之间再加层"胶水"层<br>这样当后端改名的时候，&ldquo;胶水"层的名字没改，前端就不用改，提高了效率<br>(这样也叫解耦)</p><p>别的好处我也很难讲了，毕竟目前我的开发经验不多<br>正如我最前面写的，这个只是个思想，并不是什么语法之类的<br>(总算写完了)</p></section><footer class=article-footer><section class=article-tags><a href=/tags/csharp/>CSharp</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B002-%E7%AE%80%E5%8D%95%E7%BE%8E%E5%8C%96%E8%AE%A1%E7%AE%97%E5%99%A8/><div class=article-details><h2 class=article-title>WPF学习笔记02-简单美化计算器</h2></div></a></article><article><a href=/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/><div class=article-details><h2 class=article-title>WPF学习笔记01-一个简单的计算器</h2></div></a></article><article><a href=/article/posts/%E6%B5%99%E5%B7%A5%E5%A4%A7%E7%A6%BB%E6%95%A3%E8%AF%BE%E8%AE%BE%E8%AE%B0%E5%BD%95/><div class=article-details><h2 class=article-title>浙工大离散课设讲解</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 -
2024 MLAcookie</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>