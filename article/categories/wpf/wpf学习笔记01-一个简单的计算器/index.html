<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='<0x00> 我为何选择WPF\r(@ 23-08-25) 慢慢学了一个月，总算知道为啥现在用WPF的个人项目不多了 写简单的UI确实非常方便，但如果要用些现代些的设计就很烦了 非常容易出现些神秘问题 这个我也说不明白，大概就是因为之前看到有些项目的窗口就是WPF写的吧 一定要找个理由就是WPF的支持丰富 作为一个老UI框架，教程满天飞，更重要的是，用WPF仍可以设计出现代的UI (而且相比那些electron框架来说性能更好，只要不搞跨平台) 目前在Windows下，微软这常见的有四套UI框架 分别是：WinFrom、WPF、WinUI3、XAUI WinFrom实在是老，做一些效果动画会比较费力 WPF虽然也挺老的，但支持的特性足够做些不错的UI了 WinUI3新是新，但教程不多，文档支持也比较神秘 XAUI能跨平台，但微软特色，永不推广，而且也比较新，文档比较神秘 从WPF开始，微软的UI框架都是要写.xaml的 所以学会WPF之后，迁移到微软更新的UI框架的学习成本是相对低的 目前我体验下来WPF算是很好入门的了，只需要会一门.net框架下的语言就可以入门 xaml语法也不难，可以说看多了也会了 而且微软的看家本领，UI的可视化开发(Visual Studio)，这对效率提升真的很有帮助 这篇文章的代码来自我自己随便搞的简易计算器 (整个程序就花了一个小时写完，足见WPF是多方便) <0x01> WPF的典型结构\r我这里创建的是基于C#的WPF项目 创建完我们可以看到如图的项目结构 差不多就是一个.xaml文件下套.cs文件 其中在App.xaml文件中，定义了这个应用的基本信息(主要就是启动窗口是哪一个) MainWindows.xaml定义了窗口的样式(这个的编辑界面就是一半实时预览窗口，一半是代码编辑器) 下面的.cs文件可以说描述程序的行为 简单来说就是.xaml文件管前端(界面)，.cs文件管后端(行为) 具体的东西后面再讲 <0x02> XAML的简单语法\rxaml这玩意就是参考xml语法的 如果能看懂xml甚至是html也能看懂xaml <!--MainWindow.xaml--> <Window x:Class="WPFTest.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:WPFTest" mc:Ignorable="d" Title="MainWindow" Height="800" Width="800"> <Window.Resources> <Style TargetType="Button"> <Setter Property="Margin" Value="5"/> <Setter Property="FontSize" Value="30"/> </Style> </Window.Resources> <Grid> <Grid.RowDefinitions> <RowDefinition Height="auto"/> <RowDefinition/> </Grid.RowDefinitions> <Grid Grid.Row="0"> <TextBlock Name="Answer" Text="0" FontSize="30" HorizontalAlignment="Right" Margin="20"/> </Grid> <Grid Grid.'><title>WPF学习笔记01-一个简单的计算器</title>
<link rel=canonical href=https://mlacookie.github.io/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/><link rel=stylesheet href=/scss/style.min.e8c7fca7d1c9294aa7a4f3426c225ee26540f7d94e39be0b5a4a5c8a49ca5a25.css><meta property='og:title' content="WPF学习笔记01-一个简单的计算器"><meta property='og:description' content='<0x00> 我为何选择WPF\r(@ 23-08-25) 慢慢学了一个月，总算知道为啥现在用WPF的个人项目不多了 写简单的UI确实非常方便，但如果要用些现代些的设计就很烦了 非常容易出现些神秘问题 这个我也说不明白，大概就是因为之前看到有些项目的窗口就是WPF写的吧 一定要找个理由就是WPF的支持丰富 作为一个老UI框架，教程满天飞，更重要的是，用WPF仍可以设计出现代的UI (而且相比那些electron框架来说性能更好，只要不搞跨平台) 目前在Windows下，微软这常见的有四套UI框架 分别是：WinFrom、WPF、WinUI3、XAUI WinFrom实在是老，做一些效果动画会比较费力 WPF虽然也挺老的，但支持的特性足够做些不错的UI了 WinUI3新是新，但教程不多，文档支持也比较神秘 XAUI能跨平台，但微软特色，永不推广，而且也比较新，文档比较神秘 从WPF开始，微软的UI框架都是要写.xaml的 所以学会WPF之后，迁移到微软更新的UI框架的学习成本是相对低的 目前我体验下来WPF算是很好入门的了，只需要会一门.net框架下的语言就可以入门 xaml语法也不难，可以说看多了也会了 而且微软的看家本领，UI的可视化开发(Visual Studio)，这对效率提升真的很有帮助 这篇文章的代码来自我自己随便搞的简易计算器 (整个程序就花了一个小时写完，足见WPF是多方便) <0x01> WPF的典型结构\r我这里创建的是基于C#的WPF项目 创建完我们可以看到如图的项目结构 差不多就是一个.xaml文件下套.cs文件 其中在App.xaml文件中，定义了这个应用的基本信息(主要就是启动窗口是哪一个) MainWindows.xaml定义了窗口的样式(这个的编辑界面就是一半实时预览窗口，一半是代码编辑器) 下面的.cs文件可以说描述程序的行为 简单来说就是.xaml文件管前端(界面)，.cs文件管后端(行为) 具体的东西后面再讲 <0x02> XAML的简单语法\rxaml这玩意就是参考xml语法的 如果能看懂xml甚至是html也能看懂xaml <!--MainWindow.xaml--> <Window x:Class="WPFTest.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:WPFTest" mc:Ignorable="d" Title="MainWindow" Height="800" Width="800"> <Window.Resources> <Style TargetType="Button"> <Setter Property="Margin" Value="5"/> <Setter Property="FontSize" Value="30"/> </Style> </Window.Resources> <Grid> <Grid.RowDefinitions> <RowDefinition Height="auto"/> <RowDefinition/> </Grid.RowDefinitions> <Grid Grid.Row="0"> <TextBlock Name="Answer" Text="0" FontSize="30" HorizontalAlignment="Right" Margin="20"/> </Grid> <Grid Grid.'><meta property='og:url' content='https://mlacookie.github.io/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/'><meta property='og:site_name' content='MLAcookie'><meta property='og:type' content='article'><meta property='article:section' content='Article'><meta property='article:tag' content='CSharp'><meta property='article:published_time' content='2023-07-15T20:51:01+00:00'><meta property='article:modified_time' content='2023-07-15T20:51:01+00:00'><meta name=twitter:title content="WPF学习笔记01-一个简单的计算器"><meta name=twitter:description content='<0x00> 我为何选择WPF\r(@ 23-08-25) 慢慢学了一个月，总算知道为啥现在用WPF的个人项目不多了 写简单的UI确实非常方便，但如果要用些现代些的设计就很烦了 非常容易出现些神秘问题 这个我也说不明白，大概就是因为之前看到有些项目的窗口就是WPF写的吧 一定要找个理由就是WPF的支持丰富 作为一个老UI框架，教程满天飞，更重要的是，用WPF仍可以设计出现代的UI (而且相比那些electron框架来说性能更好，只要不搞跨平台) 目前在Windows下，微软这常见的有四套UI框架 分别是：WinFrom、WPF、WinUI3、XAUI WinFrom实在是老，做一些效果动画会比较费力 WPF虽然也挺老的，但支持的特性足够做些不错的UI了 WinUI3新是新，但教程不多，文档支持也比较神秘 XAUI能跨平台，但微软特色，永不推广，而且也比较新，文档比较神秘 从WPF开始，微软的UI框架都是要写.xaml的 所以学会WPF之后，迁移到微软更新的UI框架的学习成本是相对低的 目前我体验下来WPF算是很好入门的了，只需要会一门.net框架下的语言就可以入门 xaml语法也不难，可以说看多了也会了 而且微软的看家本领，UI的可视化开发(Visual Studio)，这对效率提升真的很有帮助 这篇文章的代码来自我自己随便搞的简易计算器 (整个程序就花了一个小时写完，足见WPF是多方便) <0x01> WPF的典型结构\r我这里创建的是基于C#的WPF项目 创建完我们可以看到如图的项目结构 差不多就是一个.xaml文件下套.cs文件 其中在App.xaml文件中，定义了这个应用的基本信息(主要就是启动窗口是哪一个) MainWindows.xaml定义了窗口的样式(这个的编辑界面就是一半实时预览窗口，一半是代码编辑器) 下面的.cs文件可以说描述程序的行为 简单来说就是.xaml文件管前端(界面)，.cs文件管后端(行为) 具体的东西后面再讲 <0x02> XAML的简单语法\rxaml这玩意就是参考xml语法的 如果能看懂xml甚至是html也能看懂xaml <!--MainWindow.xaml--> <Window x:Class="WPFTest.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:WPFTest" mc:Ignorable="d" Title="MainWindow" Height="800" Width="800"> <Window.Resources> <Style TargetType="Button"> <Setter Property="Margin" Value="5"/> <Setter Property="FontSize" Value="30"/> </Style> </Window.Resources> <Grid> <Grid.RowDefinitions> <RowDefinition Height="auto"/> <RowDefinition/> </Grid.RowDefinitions> <Grid Grid.Row="0"> <TextBlock Name="Answer" Text="0" FontSize="30" HorizontalAlignment="Right" Margin="20"/> </Grid> <Grid Grid.'><link rel="shortcut icon" href=/favicon.webp></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu01ec501d434397934aa5721ebabee736_552660_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>😜</span></figure><div class=site-meta><h1 class=site-name><a href=/>MLAcookie</a></h1><h2 class=site-description>随便记点东西的记事本</h2></div></header><ol class=menu-social><li><a href=https://space.bilibili.com/13629146 target=_blank title=MLA_cookie@bilibili rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-bilibili"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 10a4 4 0 014-4h10a4 4 0 014 4v6a4 4 0 01-4 4H7a4 4 0 01-4-4v-6z"/><path d="M8 3l2 3"/><path d="M16 3l-2 3"/><path d="M9 13v-2"/><path d="M15 11v2"/></svg></a></li><li><a href=https://github.com/MLAcookie target=_blank title=MLAcookie@Github rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/page/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/page/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/page/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#0x00-我为何选择wpf>&lt;0x00> 我为何选择WPF</a></li><li><a href=#0x01-wpf的典型结构>&lt;0x01> WPF的典型结构</a></li><li><a href=#0x02-xaml的简单语法>&lt;0x02> XAML的简单语法</a><ul><li><a href=#声明部分>声明部分</a></li><li><a href=#windowresources>&lt;Window.Resources></a></li><li><a href=#grid>&lt;Grid></a></li></ul></li><li><a href=#0x03-与c后端的结合>&lt;0x03> 与C#后端的结合</a></li><li><a href=#附录>附录</a></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/wpf/>WPF</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/>WPF学习笔记01-一个简单的计算器</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jul 15, 2023</time></div></footer></div></header><section class=article-content><h2 id=0x00-我为何选择wpf>&lt;0x00> 我为何选择WPF</h2><p>(@ 23-08-25)<br>慢慢学了一个月，总算知道为啥现在用<code>WPF</code>的个人项目不多了<br>写简单的<code>UI</code>确实非常方便，但如果要用些现代些的设计就很烦了<br>非常容易出现些神秘问题</p><p>这个我也说不明白，大概就是因为之前看到有些项目的窗口就是<code>WPF</code>写的吧</p><p>一定要找个理由就是<code>WPF</code>的支持丰富<br>作为一个老UI框架，教程满天飞，更重要的是，用<code>WPF</code>仍可以设计出现代的UI<br>(而且相比那些<code>electron</code>框架来说性能更好，只要不搞跨平台)</p><p>目前在<code>Windows</code>下，微软这常见的有四套UI框架<br>分别是：<code>WinFrom</code>、<code>WPF</code>、<code>WinUI3</code>、<code>XAUI</code><br><code>WinFrom</code>实在是老，做一些效果动画会比较费力<br><code>WPF</code>虽然也挺老的，但支持的特性足够做些不错的UI了<br><code>WinUI3</code>新是新，但教程不多，文档支持也比较神秘<br><code>XAUI</code>能跨平台，但微软特色，永不推广，而且也比较新，文档比较神秘</p><p>从<code>WPF</code>开始，微软的UI框架都是要写<code>.xaml</code>的<br>所以学会<code>WPF</code>之后，迁移到微软更新的UI框架的学习成本是相对低的</p><p>目前我体验下来<code>WPF</code>算是很好入门的了，只需要会一门<code>.net</code>框架下的语言就可以入门<br><code>xaml</code>语法也不难，可以说看多了也会了<br>而且微软的看家本领，UI的可视化开发(Visual Studio)，这对效率提升真的很有帮助</p><p>这篇文章的代码来自我自己随便搞的简易计算器<br>(整个程序就花了一个小时写完，足见<code>WPF</code>是多方便)</p><h2 id=0x01-wpf的典型结构>&lt;0x01> WPF的典型结构</h2><p>我这里创建的是基于<code>C#</code>的<code>WPF</code>项目</p><p>创建完我们可以看到如图的项目结构<br><img src=/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/picture/1.png width=279 height=258 srcset="/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/picture/1_hu1034328ead1f54abca7afd5c68cb1ea8_9052_480x0_resize_box_3.png 480w, /article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/picture/1_hu1034328ead1f54abca7afd5c68cb1ea8_9052_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=108 data-flex-basis=259px>
差不多就是一个<code>.xaml</code>文件下套<code>.cs</code>文件</p><p>其中在<code>App.xaml</code>文件中，定义了这个应用的基本信息(主要就是启动窗口是哪一个)<br><code>MainWindows.xaml</code>定义了窗口的样式(这个的编辑界面就是一半实时预览窗口，一半是代码编辑器)<br>下面的<code>.cs</code>文件可以说描述程序的行为</p><p>简单来说就是<code>.xaml</code>文件管前端(界面)，<code>.cs</code>文件管后端(行为)<br>具体的东西后面再讲</p><h2 id=0x02-xaml的简单语法>&lt;0x02> XAML的简单语法</h2><p><code>xaml</code>这玩意就是参考<code>xml</code>语法的<br>如果能看懂<code>xml</code>甚至是<code>html</code>也能看懂<code>xaml</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!--MainWindow.xaml--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;Window</span> <span style=color:#a6e22e>x:Class=</span><span style=color:#e6db74>&#34;WPFTest.MainWindow&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns=</span><span style=color:#e6db74>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:x=</span><span style=color:#e6db74>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:d=</span><span style=color:#e6db74>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:mc=</span><span style=color:#e6db74>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>xmlns:local=</span><span style=color:#e6db74>&#34;clr-namespace:WPFTest&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>mc:Ignorable=</span><span style=color:#e6db74>&#34;d&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>Title=</span><span style=color:#e6db74>&#34;MainWindow&#34;</span> <span style=color:#a6e22e>Height=</span><span style=color:#e6db74>&#34;800&#34;</span> <span style=color:#a6e22e>Width=</span><span style=color:#e6db74>&#34;800&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Window.Resources&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Style</span> <span style=color:#a6e22e>TargetType=</span><span style=color:#e6db74>&#34;Button&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;Margin&#34;</span> <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;5&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Setter</span> <span style=color:#a6e22e>Property=</span><span style=color:#e6db74>&#34;FontSize&#34;</span> <span style=color:#a6e22e>Value=</span><span style=color:#e6db74>&#34;30&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Style&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/Window.Resources&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Grid&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;RowDefinition</span> <span style=color:#a6e22e>Height=</span><span style=color:#e6db74>&#34;auto&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Grid</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;TextBlock</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Answer&#34;</span> <span style=color:#a6e22e>Text=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>FontSize=</span><span style=color:#e6db74>&#34;30&#34;</span> <span style=color:#a6e22e>HorizontalAlignment=</span><span style=color:#e6db74>&#34;Right&#34;</span> <span style=color:#a6e22e>Margin=</span><span style=color:#e6db74>&#34;20&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Grid&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Grid</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;ColumnDefinition/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#f92672>&lt;RowDefinition/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_MinusSign&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_MinusSign_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;±&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Clear&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Clear_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;CE&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Backspace&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Backspace_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;←&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num9&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num9_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;9&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num8&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num8_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;8&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num7&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num7_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;7&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num6&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num6_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;6&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num5&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num5_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;5&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num4&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num4_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;4&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num3&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num3_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;3&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num2&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num2_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num1&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num1_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;1&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Num0&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Num0_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>Grid.ColumnSpan=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Dot&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Dot_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;.&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;2&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Div&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Div_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;/&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;3&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;0&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Mul&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Mul_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;*&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;3&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;1&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Sub&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Sub_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;-&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;3&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;2&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Add&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Add_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;+&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;3&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;3&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#f92672>&lt;Button</span> <span style=color:#a6e22e>Name=</span><span style=color:#e6db74>&#34;Button_Equal&#34;</span> <span style=color:#a6e22e>Click=</span><span style=color:#e6db74>&#34;Button_Equal_Click&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Content=</span><span style=color:#e6db74>&#34;=&#34;</span> <span style=color:#a6e22e>Grid.Column=</span><span style=color:#e6db74>&#34;3&#34;</span> <span style=color:#a6e22e>Grid.Row=</span><span style=color:#e6db74>&#34;4&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;/Grid&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/Grid&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/Window&gt;</span>
</span></span></code></pre></div><p>(为了代码高亮正常工作，这里的代码设置为<code>xml</code>的高亮格式)<br>一块块掰碎讲</p><h3 id=声明部分>声明部分</h3><p>就是最上面一坨不知道什么东西的部分，随便写写的话根本不需要知道这些是啥，别动就好<br>(因为我目前也不是很懂这些)</p><h3 id=windowresources>&lt;Window.Resources></h3><p>这里面我就定义了个<code>Button</code>类型的<code>Style</code><br>其实就是规定了<code>Button</code>的一些默认参数<br>在下面写<code>Button</code>的时候就不用一个个都写这些东西了</p><p><code>Style</code>里面定义了按钮到界面边界的距离(<code>Margin</code>)有5单位<br>字体大小(<code>FontSize</code>)为30个单位<br>(在<code>WPF</code>里，并不是以像素为单位，而是按<code>DPI</code>来确定实际像素单位大小)</p><p><code>&lt;Style></code>里面要指定设置的类型(<code>TargetType</code>)<br>在<code>&lt;Style></code>块中，用<code>&lt;Setter></code>标签来设置类型下面的属性<br><code>&lt;Setter></code>标签里面<code>Property</code>选择属性，<code>Value</code>选择值</p><h3 id=grid>&lt;Grid></h3><p>在<code>WPF</code>中，有两种常用的界面布局<br>分别是：网格布局(<code>&lt;Grid></code>)和栈布局(<code>&lt;StackPanel></code>)<br><code>&lt;Grid></code>可以把一块区域分割成一个网格，网格里面可以塞控件<br><code>&lt;StackPanel></code>就是个栈，所有控件从上到下(从左到右)排列<br>基本上用这两种布局的互相嵌套能解决绝大多数的布局<br>我这里的布局选择了<code>&lt;Grid></code>里面再套一个<code>&lt;Grid></code></p><h4 id=具体实现>具体实现</h4><p>在<code>&lt;Grid.RowDefinitions></code>块里面塞两个<code>&lt;RowDefinition/></code>把Grid分成两行<br>(塞几个<code>&lt;RowDefinition/></code>就是有几行，列同理)<br>在一个<code>&lt;RowDefinition/></code>里加入<code>Height="auto"</code>表示第一行的高度随内容改变<br>(就是跟着第一行的控件高度走)</p><p>然后正式往Grid网格里面塞控件，先第一行<br>首先是再塞了个<code>&lt;Grid></code>，然后在里面塞了个<code>&lt;TextBlock></code><br>其中，<code>Grid.Row</code>可以指定控件所在的网格行号，列同理<br>并定义了一系列的属性参数<br>(<code>Name</code>属性就是给<code>.cs</code>调用的对象名，<code>HorizontalAlignment</code>是水平对正方式，设置为右对齐)<br>(不是很懂我当时写的逻辑，其实不用多写个<code>&lt;Grid></code>，直接塞<code>&lt;TextBlock></code>就好)</p><p>第二行，塞了个<code>&lt;Grid></code>，并定义出5*4的网格<br>下面就是一大堆的按键定义，相对比较无趣<br>值得说道的是<code>Click</code>属性，这个会指向对应<code>.cs</code>的一个具体的方法名，实现前后端的融合<br>(具体看后端实现就可以了)<br>还有按钮<code>0</code>多了个<code>Grid.ColumnSpan="2"</code>，这个就是让这个按钮可以跨两列显示<br>由于有之前的<code>&lt;Style></code>的定义，所有的按钮都自带字体大小30单位，间距5单位的属性</p><p>这样，我们成功整出了一个简单的计算器界面<br>长这样的<br><img src=/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/picture/2.png width=392 height=400 srcset="/article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/picture/2_hu948f628ed672d637df90431fcc24b955_14497_480x0_resize_box_3.png 480w, /article/categories/wpf/wpf%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%AE%A1%E7%AE%97%E5%99%A8/picture/2_hu948f628ed672d637df90431fcc24b955_14497_1024x0_resize_box_3.png 1024w" loading=lazy class=gallery-image data-flex-grow=98 data-flex-basis=235px></p><h2 id=0x03-与c后端的结合>&lt;0x03> 与C#后端的结合</h2><p>(@ 23-08-14)<br>实际上这样并不是搞后端，这些都是再定义前端的行为<br>具体搞后端可以看我之后写的讲<code>MVVM</code>设计模型的博客<br>但如果项目很小的话这样搞也没问题的</p><p>与C#后端的结合可以说非常简单，就是调用和更改控件对象的成员值就可以<br>还记得我们已经在<code>.xaml</code>中为一些控件添加了<code>Name</code>属性吗<br>这些<code>Name</code>属性是实现前后端融合的关键</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#75715e>//等于号按键点击事件的实现逻辑</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Equal_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (flag &amp;&amp; ans != <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        Calculate();
</span></span><span style=display:flex><span>        flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>        Answer.Text = ans.ToString();
</span></span><span style=display:flex><span>        calculate = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>别的都不重要，还记得我们有一个<code>&lt;TextBlock></code>的<code>Name</code>属性设置为<code>Answer</code>吗<br>通过<code>Answer.Text</code>可以直接访问并修改<code>&lt;TextBlock></code>的内容，非常方便<br>(<code>Answer.Text</code>就是<code>String</code>类型)<br>其他的控件也同理</p><p>接下来要处理下按钮的点击事件了<br>这个也非常简单，我们之前已经设置了每个按钮的<code>Click</code>属性<br>接下来就是在对应的<code>.cs</code>中实现逻辑就好</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#75715e>//大概的结构</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> WPFTest
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainWindow</span> : Window
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#75715e>//...</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_MinusSign_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//加负号按钮的点击事件</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Clear_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//清屏键的点击事件</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Backspace_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//退格键的点击事件</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num9_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num8_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num7_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num6_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num5_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num4_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num3_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num2_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num1_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num0_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//各个数字键的点击事件</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Dot_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//小数点按键的点击事件</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Div_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Mul_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Sub_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Add_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//+-*/键的点击事件</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Equal_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e);
</span></span><span style=display:flex><span>        <span style=color:#75715e>//等于号的点击事件</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>每个按钮的点击事件都相当于在<code>C#</code>中的一个方法<br>点击一次就触发一次</p><h2 id=附录>附录</h2><p>完整的<code>MainWindow.xaml</code>已经贴在上文了，这里就不再放了</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cs data-lang=cs><span style=display:flex><span><span style=color:#75715e>//MainWindow.xaml.cs</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Collections.Generic;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Linq;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Text;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Threading.Tasks;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Controls;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Data;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Documents;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Input;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Media;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Media.Imaging;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Navigation;
</span></span><span style=display:flex><span><span style=color:#66d9ef>using</span> System.Windows.Shapes;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> WPFTest
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>partial</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainWindow</span> : Window
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>bool</span> flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int?</span> calculate = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>double?</span> ans = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> MainWindow()
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            InitializeComponent();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Calculate()
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>switch</span> (calculate)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>                    ans += Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>2</span>:
</span></span><span style=display:flex><span>                    ans -= Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>3</span>:
</span></span><span style=display:flex><span>                    ans *= Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>case</span> <span style=color:#ae81ff>4</span>:
</span></span><span style=display:flex><span>                    ans /= Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_MinusSign_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (Answer.Text[<span style=color:#ae81ff>0</span>]==<span style=color:#e6db74>&#39;-&#39;</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Answer.Text = Answer.Text.Substring(<span style=color:#ae81ff>1</span>, Answer.Text.Length - <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Answer.Text = <span style=color:#e6db74>&#34;-&#34;</span> + Answer.Text;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Clear_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>            calculate = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>            ans = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>            Answer.Text = <span style=color:#e6db74>&#34;0&#34;</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Backspace_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text = Answer.Text.Substring(<span style=color:#ae81ff>0</span>, Answer.Text.Length - <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (Answer.Text.Length == <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                    Answer.Text = <span style=color:#e6db74>&#34;0&#34;</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num9_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;9&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;9&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num8_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;8&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;8&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num7_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;7&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;7&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num6_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;6&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;6&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num5_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;5&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;5&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num4_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;4&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;4&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num3_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;3&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;3&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num2_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;2&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;2&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num1_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;1&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;1&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Num0_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;0&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>                Answer.Text = <span style=color:#e6db74>&#34;0&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Dot_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Answer.Text += <span style=color:#e6db74>&#34;.&#34;</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Div_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (ans == <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    ans = Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    calculate = <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Calculate();
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                    Answer.Text = ans.ToString();
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                calculate = <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Mul_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (ans == <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    ans = Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    calculate = <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Calculate();
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                    Answer.Text = ans.ToString();
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                calculate = <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Sub_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (ans == <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    ans = Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    calculate = <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Calculate();
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                    Answer.Text = ans.ToString();
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                calculate = <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Add_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (ans == <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    ans = Double.Parse(Answer.Text);
</span></span><span style=display:flex><span>                    calculate = <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                {
</span></span><span style=display:flex><span>                    Calculate();
</span></span><span style=display:flex><span>                    flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                    Answer.Text = ans.ToString();
</span></span><span style=display:flex><span>                }
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                calculate = <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>void</span> Button_Equal_Click(<span style=color:#66d9ef>object</span> sender, RoutedEventArgs e)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (flag &amp;&amp; ans != <span style=color:#66d9ef>null</span>)
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>                Calculate();
</span></span><span style=display:flex><span>                flag = <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>                Answer.Text = ans.ToString();
</span></span><span style=display:flex><span>                calculate = <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>逻辑就是随性写的，不保证完全没Bug，应该是没严重Bug的<br>(所以也没写高精度的运算处理)<br>(写这篇博客比我写代码的时间都长😂)</p></section><footer class=article-footer><section class=article-tags><a href=/tags/csharp/>CSharp</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/article/posts/%E6%B5%99%E5%B7%A5%E5%A4%A7%E7%A6%BB%E6%95%A3%E8%AF%BE%E8%AE%BE%E8%AE%B2%E8%A7%A3/><div class=article-details><h2 class=article-title>浙工大离散课设讲解</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2023 -
2024 MLAcookie</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.26.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>